import { FC } from 'react';
import { TariffProps } from '.';
import TariffItem from './TariffItem';
import { Title, Text } from '@/components/ui/Typography';

import style from './Tariff.module.scss';
import { addNbspParse } from '@/helpers';

export const Tariff: FC<TariffProps> = ({ title, description, rates, discount }) => {
  return (
    <section className={style.wrapper}>
      <div className={style.heading}>
        <Title accent='mint' color='light'>{addNbspParse(title)}</Title>
        <Text color='light'>{description}</Text>
      </div>
      {discount &&
        <div className={style.discount}>
          <div className={style.label}>
            <DiscountLabel />
          </div>
          <div className={style.percent}>
            <DiscountPercent />
          </div>
        </div>
      }
      <div className={style.list}>
        {rates && rates.map(({ id, name, desc, popular, price, structure, term, volume, oldprice, uniqueId }) => (
          <TariffItem
            key={id}
            name={name}
            desc={desc}
            price={price}
            oldprice={oldprice}
            popular={popular}
            term={term}
            volume={volume}
            structure={structure.sort((a,b) => a.id - b.id).sort((a,b) => +a.locked - +b.locked)}
            uniqueId={uniqueId}
            id={id}
          />
        ))}
      </div>
    </section>
  );
};

const DiscountLabel = () => {
  return (
    <svg width="246" height="44" viewBox="0 0 246 44" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="0.666016" y="0.538086" width="244.764" height="42" rx="3.5" fill="#43BCBC" />
      <path d="M26.9301 21.5381C26.9301 24.7738 24.7773 26.931 21.5481 26.931C18.3188 26.931 16.166 24.7738 16.166 21.5381C16.166 18.3024 18.3188 16.1452 21.5481 16.1452C24.7773 16.1452 26.9301 19.381 26.9301 21.5381Z" fill="black" />
      <path d="M46.0519 14.0381H58.6408V27.7522H55.1984V16.8124H49.4943V19.3899C49.4943 22.3544 48.9606 24.5385 47.8932 25.942C46.8391 27.3456 45.1846 28.0473 42.9297 28.0473V25.273C44.0105 25.1812 44.7977 24.6696 45.2914 23.7383C45.7984 22.807 46.0519 21.3575 46.0519 19.3899V14.0381Z" fill="white" />
      <path d="M73.9554 22.5184V23.3251H64.1685C64.2752 24.1909 64.5821 24.8008 65.0891 25.155C65.5961 25.5092 66.3967 25.6862 67.4908 25.6862C69.3721 25.6862 70.3995 25.2862 70.573 24.486H73.7552C73.5284 26.8865 71.4202 28.0867 67.4308 28.0867C65.1491 28.0867 63.4746 27.6342 62.4072 26.7291C61.3398 25.824 60.8061 24.4073 60.8061 22.4791C60.8061 20.6164 61.3331 19.2456 62.3872 18.3668C63.4546 17.4879 65.1225 17.0485 67.3907 17.0485C69.659 17.0485 71.3202 17.4814 72.3743 18.3471C73.4283 19.1997 73.9554 20.5902 73.9554 22.5184ZM67.4107 19.449C66.37 19.449 65.6028 19.5998 65.1091 19.9015C64.6288 20.2032 64.3286 20.7213 64.2085 21.4559H70.573C70.5463 20.7476 70.2794 20.236 69.7724 19.9212C69.2787 19.6064 68.4915 19.449 67.4107 19.449Z" fill="white" />
      <path d="M82.3497 27.7522H78.9874V19.9802H75.1647V17.383H86.2125V19.9802H82.3497V27.7522Z" fill="white" />
      <path d="M95.9716 21.0624V17.383H99.3339V27.7522H95.9716V23.6793H91.2682V27.7522H87.9059V17.383H91.2682V21.0624H95.9716Z" fill="white" />
      <path d="M109.909 17.383H114.432V27.7522H111.069V20.3541H110.689L106.326 27.7522H101.783V17.383H105.145V24.7615H105.485L109.909 17.383Z" fill="white" />
      <path d="M129.581 22.5184V23.3251H119.794C119.9 24.1909 120.207 24.8008 120.714 25.155C121.221 25.5092 122.022 25.6862 123.116 25.6862C124.997 25.6862 126.025 25.2862 126.198 24.486H129.38C129.154 26.8865 127.046 28.0867 123.056 28.0867C120.774 28.0867 119.1 27.6342 118.032 26.7291C116.965 25.824 116.431 24.4073 116.431 22.4791C116.431 20.6164 116.958 19.2456 118.012 18.3668C119.08 17.4879 120.748 17.0485 123.016 17.0485C125.284 17.0485 126.945 17.4814 128 18.3471C129.054 19.1997 129.581 20.5902 129.581 22.5184ZM123.036 19.449C121.995 19.449 121.228 19.5998 120.734 19.9015C120.254 20.2032 119.954 20.7213 119.834 21.4559H126.198C126.172 20.7476 125.905 20.236 125.398 19.9212C124.904 19.6064 124.117 19.449 123.036 19.449Z" fill="white" />
      <path d="M143.932 28.0867C141.637 28.0867 139.949 27.6407 138.868 26.7487C137.787 25.8436 137.247 24.4335 137.247 22.5184C137.247 20.6426 137.787 19.2653 138.868 18.3865C139.949 17.4945 141.637 17.0485 143.932 17.0485C145.893 17.0485 147.414 17.4289 148.495 18.1897C149.589 18.9374 150.189 20.0327 150.296 21.4756H146.954C146.807 20.2688 145.813 19.6654 143.972 19.6654C142.771 19.6654 141.91 19.8818 141.39 20.3147C140.883 20.7476 140.629 21.4887 140.629 22.5381C140.629 23.6006 140.883 24.3548 141.39 24.8008C141.897 25.2468 142.757 25.4698 143.972 25.4698C145.853 25.4698 146.86 24.7943 146.994 23.4432H150.356C150.236 24.9517 149.622 26.106 148.515 26.9061C147.421 27.6932 145.893 28.0867 143.932 28.0867Z" fill="white" />
      <path d="M164.114 27.7522H160.472L158.09 23.6793H155.708V27.7522H152.346V17.383H155.708V21.0624H158.39L160.392 17.383H163.954L161.112 22.5578L164.114 27.7522Z" fill="white" />
      <path d="M173.801 17.383H178.325V27.7522H174.962V20.3541H174.582L170.219 27.7522H165.676V17.383H169.038V24.7615H169.378L173.801 17.383Z" fill="white" />
      <path d="M192.613 17.383V25.1943H194.134V31.0381H190.872V27.7522H183.146V31.0381H179.864V25.1943H181.145C182.119 24.2761 182.606 22.6365 182.606 20.2754V17.383H192.613ZM184.687 25.1943H189.311V19.9212H185.868V20.964C185.868 22.4725 185.474 23.8826 184.687 25.1943Z" fill="white" />
      <path d="M207.719 27.7522H204.077L201.695 23.6793H199.313V27.7522H195.951V17.383H199.313V21.0624H201.995L203.997 17.383H207.559L204.717 22.5578L207.719 27.7522Z" fill="white" />
      <path d="M217.406 17.383H221.93V27.7522H218.567V20.3541H218.187L213.824 27.7522H209.281V17.383H212.643V24.7615H212.983L217.406 17.383Z" fill="white" />
      <rect x="0.666016" y="0.538086" width="244.764" height="42" rx="3.5" stroke="#43BCBC" />
    </svg>
  )
}
const DiscountPercent = () => {
  return (
    <svg width="327" height="97" viewBox="0 0 327 97" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M48.2392 32.7661C61.9473 32.7661 72.3162 35.4319 79.346 40.7635C86.3758 46.0951 89.8907 53.9614 89.8907 64.3624C89.8907 85.5139 74.9524 96.0897 45.0758 96.0897C16.5172 96.0897 1.71072 85.645 0.65625 64.7557H22.4047C22.844 69.5628 24.7772 73.059 28.2043 75.2441C31.7192 77.3417 37.1672 78.3906 44.5485 78.3906C52.457 78.3906 58.2566 77.298 61.9473 75.113C65.7258 72.9279 67.615 69.4317 67.615 64.6246C67.615 55.0976 60.0141 50.3341 44.8121 50.3341C37.343 50.3341 30.7086 51.383 24.909 53.4807L5.26955 51.7763L9.88285 2.34976H82.6412V20.8355H29.5223L28.0724 35.3882C34.575 33.6401 41.2972 32.7661 48.2392 32.7661Z" fill="none" />
      <path d="M149.722 96.0897C133.377 96.0897 121.339 92.1566 113.606 84.2903C105.961 76.3366 102.139 63.969 102.139 47.1876C102.139 31.1054 105.961 19.2623 113.606 11.6582C121.339 4.05412 133.377 0.252075 149.722 0.252075C165.89 0.252075 177.797 4.05412 185.442 11.6582C193.087 19.2623 196.909 31.1054 196.909 47.1876C196.909 63.969 193.087 76.3366 185.442 84.2903C177.797 92.1566 165.89 96.0897 149.722 96.0897ZM149.722 77.6039C158.685 77.6039 165.099 75.2878 168.966 70.6554C172.832 65.9356 174.765 58.113 174.765 47.1876C174.765 36.9614 172.788 29.6633 168.834 25.2931C164.967 20.8355 158.597 18.6068 149.722 18.6068C140.671 18.6068 134.168 20.8355 130.214 25.2931C126.26 29.6633 124.282 36.9614 124.282 47.1876C124.282 58.113 126.26 65.9356 130.214 70.6554C134.168 75.2878 140.671 77.6039 149.722 77.6039Z" fill="none" />
      <path d="M207.318 23.5887C207.318 15.5476 209.251 9.64793 213.117 5.88959C216.984 2.13125 223.091 0.252075 231.439 0.252075C239.787 0.252075 245.894 2.13125 249.76 5.88959C253.714 9.64793 255.692 15.5476 255.692 23.5887C255.692 31.7172 253.714 37.7481 249.76 41.6812C245.894 45.527 239.787 47.4498 231.439 47.4498C223.091 47.4498 216.984 45.527 213.117 41.6812C209.251 37.7481 207.318 31.7172 207.318 23.5887ZM236.052 93.861H217.599L298.266 2.48086H317.114L236.052 93.861ZM239.611 23.5887C239.611 19.1312 238.952 15.941 237.634 14.0181C236.404 12.0078 234.339 11.0027 231.439 11.0027C228.539 11.0027 226.43 12.0078 225.112 14.0181C223.794 15.941 223.135 19.1312 223.135 23.5887C223.135 28.2211 223.794 31.5424 225.112 33.5527C226.43 35.563 228.539 36.5681 231.439 36.5681C234.339 36.5681 236.404 35.563 237.634 33.5527C238.952 31.5424 239.611 28.2211 239.611 23.5887ZM303.011 96.0897C294.663 96.0897 288.512 94.1669 284.558 90.3211C280.691 86.388 278.758 80.3134 278.758 72.0975C278.758 64.0564 280.691 58.1567 284.558 54.3984C288.512 50.64 294.663 48.7609 303.011 48.7609C311.271 48.7609 317.334 50.64 321.2 54.3984C325.067 58.1567 327 64.0564 327 72.0975C327 80.3134 325.067 86.388 321.2 90.3211C317.334 94.1669 311.271 96.0897 303.011 96.0897ZM303.011 85.208C305.823 85.208 307.844 84.2029 309.074 82.1926C310.304 80.0949 310.919 76.7299 310.919 72.0975C310.919 67.5526 310.304 64.3187 309.074 62.3958C307.844 60.4729 305.823 59.5115 303.011 59.5115C300.023 59.5115 297.87 60.5166 296.552 62.5269C295.234 64.4498 294.575 67.64 294.575 72.0975C294.575 76.7299 295.234 80.0949 296.552 82.1926C297.87 84.2029 300.023 85.208 303.011 85.208Z" fill="none" />
      <defs>
        <linearGradient id="lingrad-1" x1="162.716" y1="-25.1421" x2="162.716" y2="142.269" gradientUnits="userSpaceOnUse">
          <stop stopColor="#525252" />
          <stop offset="0.760068" stopColor="#3F3F3F" stopOpacity="0" />
        </linearGradient>
        <linearGradient id="lingrad-2" x1="160.067" y1="-25.1337" x2="160.067" y2="140.814" gradientUnits="userSpaceOnUse">
          <stop stopColor="#232323" />
          <stop offset="0.84375" stopColor="#2E2E2E" stopOpacity="0" />
        </linearGradient>
      </defs>
    </svg>

  )
}
